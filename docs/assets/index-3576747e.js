(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=t(i);fetch(i.href,l)}})();const O=()=>{},ee=e=>e;function R(e){return e===void 0?[]:Array.isArray(e)?e:[e]}function B(e){return e.length===0?void 0:e.length===1?e[0]:e}function We(e){return e==null?[]:Array.isArray(e)?e:typeof e=="string"||typeof e[Symbol.iterator]!="function"?[e]:[...e]}function Ue(e){return e!=null&&typeof e.next=="function"}function g(e){return e!=null&&typeof e.then=="function"}const Q="",b=Symbol.for("crank.Portal"),Le=Symbol.for("crank.Copy"),Oe=Symbol.for("crank.Raw"),Be=Symbol.for("crank.Element");class ge{constructor(n,t,r,i,l){this.tag=n,this.props=t,this.key=r,this.ref=i,this.static_=l}}ge.prototype.$$typeof=Be;function Ke(e){return e!=null&&e.$$typeof===Be}function F(e,n,...t){let r,i,l=!1;const o={};if(n!=null)for(const s in n)switch(s){case"crank-key":case"c-key":case"$key":n[s]!=null&&(r=n[s]);break;case"crank-ref":case"c-ref":case"$ref":typeof n[s]=="function"&&(i=n[s]);break;case"crank-static":case"c-static":case"$static":l=!!n[s];break;default:o[s]=n[s]}return t.length>1?o.children=t:t.length===1&&(o.children=t[0]),new ge(e,o,r,i,l)}function Me(e){if(!(typeof e=="boolean"||e==null)){{if(typeof e=="string"||Ke(e))return e;if(typeof e[Symbol.iterator]=="function")return F(Q,null,e)}return e.toString()}}function pe(e){const n=[];let t;for(let r=0;r<e.length;r++){const i=e[r];if(i)if(typeof i=="string")t=(t||"")+i;else if(!Array.isArray(i))t&&(n.push(t),t=void 0),n.push(i);else for(let l=0;l<i.length;l++){const o=i[l];o&&(typeof o=="string"?t=(t||"")+o:(t&&(n.push(t),t=void 0),n.push(o)))}}return t&&n.push(t),n}class ye{constructor(n){this.el=n,this.ctx=void 0,this.children=void 0,this.value=void 0,this.cachedChildValues=void 0,this.fallbackValue=void 0,this.inflightValue=void 0,this.onNextValues=void 0}}function v(e){return typeof e.fallbackValue<"u"?typeof e.fallbackValue=="object"?v(e.fallbackValue):e.fallbackValue:e.el.tag===b?void 0:typeof e.el.tag!="function"&&e.el.tag!==Q?e.value:B(X(e))}function X(e){if(e.cachedChildValues)return R(e.cachedChildValues);const n=[],t=R(e.children);for(let l=0;l<t.length;l++){const o=t[l];o&&n.push(typeof o=="string"?o:v(o))}const r=pe(n),i=e.el.tag;return(typeof i=="function"||i!==Q&&i!==Oe)&&(e.cachedChildValues=B(r)),r}const Fe={create(){throw new Error("Not implemented")},hydrate(){throw new Error("Not implemented")},scope:ee,read:ee,text:ee,raw:ee,patch:O,arrange:O,dispose:O,flush:O},ae=Symbol.for("crank.RendererImpl");class Xe{constructor(n){this.cache=new WeakMap,this[ae]={...Fe,...n}}render(n,t,r){let i;const l=r&&r[w];typeof t=="object"&&t!==null&&(i=this.cache.get(t));let o;if(i===void 0)i=new ye(F(b,{children:n,root:t})),i.value=t,i.ctx=l,typeof t=="object"&&t!==null&&n!=null&&this.cache.set(t,i);else{if(i.ctx!==l)throw new Error("Context mismatch");o=i.el.props,i.el=F(b,{children:n,root:t}),typeof t=="object"&&t!==null&&n==null&&this.cache.delete(t)}const s=this[ae],f=z(s,t,i,l,s.scope(void 0,b,i.el.props),i,n,void 0);return g(f)?f.then(a=>ne(s,t,l,i,a,o)):ne(s,t,l,i,f,o)}hydrate(n,t,r){const i=this[ae],l=r&&r[w];let o;if(o=this.cache.get(t),o!==void 0)return this.render(n,t,r);let s;o=new ye(F(b,{children:n,root:t})),o.value=t,typeof t=="object"&&t!==null&&n!=null&&this.cache.set(t,o);const f=i.hydrate(b,t,{}),a=z(i,t,o,l,i.scope(void 0,b,o.el.props),o,n,f);return g(a)?a.then(c=>ne(i,t,l,o,c,s)):ne(i,t,l,o,a,s)}}function ne(e,n,t,r,i,l){return n!=null&&(e.arrange(b,n,r.el.props,i,l,R(r.cachedChildValues)),fe(e,n)),r.cachedChildValues=B(i),n==null&&ie(e,r,t,r),e.read(r.cachedChildValues)}function z(e,n,t,r,i,l,o,s){const f=R(l.children),a=[],c=We(o),k=[];let p,V,D,me=!1,j,P=0,we=f.length;for(let m=0,x=c.length;m<x;m++){let u=P>=we?void 0:f[P],E=Me(c[m]);{let L=typeof u=="object"?u.el.key:void 0,h=typeof E=="object"?E.key:void 0;if(h!==void 0&&D&&D.has(h)&&(console.error("Duplicate key",h),h=void 0),L===h)V!==void 0&&h!==void 0&&V.delete(h),P++;else if(V=V||ze(f,P),h===void 0){for(;u!==void 0&&L!==void 0;)P++,u=f[P],L=typeof u=="object"?u.el.key:void 0;P++}else u=V.get(h),u!==void 0&&V.delete(h),(D=D||new Set).add(h)}let N;if(typeof E=="object"){if(E.tag===Le)N=ke(u);else{let h,be=!1;if(typeof u=="object"&&u.el.tag===E.tag)h=u.el.props,u.el=E,E.static_&&(N=ke(u),be=!0);else{typeof u=="object"&&(p=p||[]).push(u);const Ge=u;u=new ye(E),u.fallbackValue=Ge}be||(E.tag===Oe?N=j?j.then(()=>Ee(e,u,i,h,s)):Ee(e,u,i,h,s):E.tag===Q?N=j?j.then(()=>Ve(e,n,t,r,i,u,s)):Ve(e,n,t,r,i,u,s):typeof E.tag=="function"?N=j?j.then(()=>ve(e,n,t,r,i,u,h,s)):ve(e,n,t,r,i,u,h,s):N=j?j.then(()=>Ne(e,n,r,i,u,h,s)):Ne(e,n,r,i,u,h,s))}const L=E.ref;g(N)?(me=!0,typeof L=="function"&&(N=N.then(h=>(L(e.read(h)),h))),s!==void 0&&(j=N)):typeof L=="function"&&L(e.read(N))}else typeof u=="object"&&(p=p||[]).push(u),typeof E=="string"?N=u=e.text(E,i,s):u=void 0;k[m]=N,a[m]=u}for(;P<we;P++){const m=f[P];typeof m=="object"&&typeof m.el.key>"u"&&(p=p||[]).push(m)}if(V!==void 0&&V.size>0&&(p=p||[]).push(...V.values()),l.children=B(a),me){let m=Promise.all(k).finally(()=>{if(p)for(let u=0;u<p.length;u++)ie(e,t,r,p[u])}),x;return m=Promise.race([m,new Promise(u=>x=u)]),l.onNextValues&&l.onNextValues(m),l.onNextValues=x,m.then(u=>(l.inflightValue=l.fallbackValue=void 0,pe(u)))}else{if(p)for(let m=0;m<p.length;m++)ie(e,t,r,p[m]);return l.onNextValues&&(l.onNextValues(k),l.onNextValues=void 0),l.inflightValue=l.fallbackValue=void 0,pe(k)}}function ze(e,n){const t=new Map;for(let r=n;r<e.length;r++){const i=e[r];typeof i=="object"&&typeof i.el.key<"u"&&t.set(i.el.key,i)}return t}function ke(e){if(typeof e!="object")return e;const n=typeof e.el.tag=="function"?e.ctx:void 0;return n&&n.f&M&&n.inflightValue?n.inflightValue:e.inflightValue?e.inflightValue:v(e)}function Ee(e,n,t,r,i){const l=n.el.props;return(!r||r.value!==l.value)&&(n.value=e.raw(l.value,t,i)),n.value}function Ve(e,n,t,r,i,l,o){const s=z(e,n,t,r,i,l,l.el.props.children,o);return g(s)?(l.inflightValue=s.then(f=>B(f)),l.inflightValue):B(s)}function Ne(e,n,t,r,i,l,o){const s=i.el,f=s.tag;let a;s.tag===b?n=i.value=s.props.root:o!==void 0&&(a=o.children.shift()),r=e.scope(r,f,s.props);let c;a!=null&&typeof a!="string"&&(c=e.hydrate(f,a,s.props),c===void 0&&(a=void 0));const k=z(e,n,i,t,r,i,i.el.props.children,c);return g(k)?(i.inflightValue=k.then(p=>Ce(e,r,i,p,l,a)),i.inflightValue):Ce(e,r,i,k,l,a)}function Ce(e,n,t,r,i,l){const o=t.el.tag;let s=t.value;l!=null&&(s=t.value=l);let f=t.el.props,a;if(o!==b){s==null&&(s=t.value=e.create(o,f,n));for(const c in{...i,...f}){const k=f[c];k===Le?(a=a||new Set).add(c):c!=="children"&&e.patch(o,s,c,k,i&&i[c],n)}}if(a){f={...t.el.props};for(const c of a)f[c]=i&&i[c];t.el=new ge(o,f,t.el.key,t.el.ref)}if(e.arrange(o,s,f,r,i,R(t.cachedChildValues)),t.cachedChildValues=B(r),o===b){fe(e,t.value);return}return s}function fe(e,n,t){if(e.flush(n),typeof n!="object"||n===null)return;const r=W.get(n);if(r){if(t){const i=new Map;for(let[l,o]of r)Qe(t,l)||(r.delete(l),i.set(l,o));i.size?W.set(n,i):W.delete(n)}else W.delete(n);for(const[i,l]of r){const o=e.read(v(i.ret));for(const s of l)s(o)}}}function ie(e,n,t,r){if(typeof r.el.tag=="function")t=r.ctx,te(t);else if(r.el.tag===b)n=r,e.arrange(b,n.value,n.el.props,[],n.el.props,R(n.cachedChildValues)),fe(e,n.value);else if(r.el.tag!==Q){if(K(r.value)){const l=qe(t,n);for(let o=0;o<l.length;o++){const s=l[o];r.value.removeEventListener(s.type,s.callback,s.options)}}e.dispose(r.el.tag,r.value,r.el.props),n=r}const i=R(r.children);for(let l=0;l<i.length;l++){const o=i[l];typeof o=="object"&&ie(e,n,t,o)}}const M=1,y=2,C=4,J=8,_=16,Y=32,S=64,I=128,U=256,G=512,ue=1024,ce=2048,de=new WeakMap,le=new WeakMap,oe=new WeakMap,W=new WeakMap;class Je{constructor(n,t,r,i,l,o){this.f=0,this.owner=new Ye(this),this.renderer=n,this.root=t,this.host=r,this.parent=i,this.scope=l,this.ret=o,this.iterator=void 0,this.inflightBlock=void 0,this.inflightValue=void 0,this.enqueuedBlock=void 0,this.enqueuedValue=void 0,this.onProps=void 0,this.onPropsRequested=void 0}}const w=Symbol.for("crank.ContextImpl");class Ye{constructor(n){this[w]=n}get props(){return this[w].ret.el.props}get value(){return this[w].renderer.read(v(this[w].ret))}*[Symbol.iterator](){const n=this[w];try{for(n.f|=C;!(n.f&I);){if(n.f&_)throw new Error("Context iterated twice without a yield");n.f|=_,yield n.ret.el.props}}finally{n.f&=~C}}async*[Symbol.asyncIterator](){const n=this[w];if(n.f&U)throw new Error("Use for...of in sync generator components");try{for(n.f|=J;!(n.f&I);){if(n.f&_)throw new Error("Context iterated twice without a yield");if(n.f|=_,n.f&Y)n.f&=~Y,yield n.ret.el.props;else{const t=await new Promise(r=>n.onProps=r);if(n.f&I)break;yield t}n.onPropsRequested&&(n.onPropsRequested(),n.onPropsRequested=void 0)}}finally{n.f&=~J,n.onPropsRequested&&(n.onPropsRequested(),n.onPropsRequested=void 0)}}refresh(){const n=this[w];if(n.f&I)return console.error("Component is unmounted"),n.renderer.read(void 0);if(n.f&y)return console.error("Component is already executing"),this.value;const t=se(n);return g(t)?t.then(r=>n.renderer.read(r)):n.renderer.read(t)}schedule(n){const t=this[w];let r=le.get(t);r||(r=new Set,le.set(t,r)),r.add(n)}flush(n){const t=this[w];if(typeof t.root!="object"||t.root===null)return;let r=W.get(t.root);r||(r=new Map,W.set(t.root,r));let i=r.get(t);i||(i=new Set,r.set(t,i)),i.add(n)}cleanup(n){const t=this[w];if(t.f&I){const i=t.renderer.read(v(t.ret));n(i);return}let r=oe.get(t);r||(r=new Set,oe.set(t,r)),r.add(n)}consume(n){for(let t=this[w].parent;t!==void 0;t=t.parent){const r=de.get(t);if(r&&r.has(n))return r.get(n)}}provide(n,t){const r=this[w];let i=de.get(r);i||(i=new Map,de.set(r,i)),i.set(n,t)}addEventListener(n,t,r){const i=this[w];let l;if(Ae(t)){const f=A.get(i);f?l=f:(l=[],A.set(i,l))}else return;r=Ie(r);let o;typeof t=="object"?o=()=>t.handleEvent.apply(t,arguments):o=t;const s={type:n,listener:t,callback:o,options:r};if(r.once&&(s.callback=function(){const f=l.indexOf(s);return f!==-1&&l.splice(f,1),o.apply(this,arguments)}),!l.some(f=>s.type===f.type&&s.listener===f.listener&&!s.options.capture==!f.options.capture)){l.push(s);for(const f of X(i.ret))K(f)&&f.addEventListener(s.type,s.callback,s.options)}}removeEventListener(n,t,r){const i=this[w],l=A.get(i);if(l==null||!Ae(t))return;const o=Ie(r),s=l.findIndex(a=>a.type===n&&a.listener===t&&!a.options.capture==!o.capture);if(s===-1)return;const f=l[s];l.splice(s,1);for(const a of X(i.ret))K(a)&&a.removeEventListener(f.type,f.callback,f.options)}dispatchEvent(n){const t=this[w],r=[];for(let o=t.parent;o!==void 0;o=o.parent)r.push(o);let i=!1;const l=n.stopImmediatePropagation;T(n,"stopImmediatePropagation",()=>(i=!0,l.call(n))),T(n,"target",t.owner);try{T(n,"eventPhase",en);for(let o=r.length-1;o>=0;o--){const s=r[o],f=A.get(s);if(f){T(n,"currentTarget",s.owner);for(const a of f)if(a.type===n.type&&a.options.capture){try{a.callback.call(s.owner,n)}catch(c){console.error(c)}if(i)return!0}}if(n.cancelBubble)return!0}{T(n,"eventPhase",nn),T(n,"currentTarget",t.owner);const o=t.ret.el.props["on"+n.type];if(o!=null&&(o(n),i||n.cancelBubble))return!0;const s=A.get(t);if(s){for(const f of s)if(f.type===n.type){try{f.callback.call(t.owner,n)}catch(a){console.error(a)}if(i)return!0}if(n.cancelBubble)return!0}}if(n.bubbles){T(n,"eventPhase",tn);for(let o=0;o<r.length;o++){const s=r[o],f=A.get(s);if(f){T(n,"currentTarget",s.owner);for(const a of f)if(a.type===n.type&&!a.options.capture){try{a.callback.call(s.owner,n)}catch(c){console.error(c)}if(i)return!0}}if(n.cancelBubble)return!0}}}finally{return T(n,"eventPhase",xe),T(n,"currentTarget",null),!n.defaultPrevented}}}function Qe(e,n){for(let t=n;t!==void 0;t=t.parent)if(t===e)return!0;return!1}function ve(e,n,t,r,i,l,o,s){let f;if(o){if(f=l.ctx,f.f&y)return console.error("Component is already executing"),l.cachedChildValues}else f=l.ctx=new Je(e,n,t,r,i,l);return f.f|=M,se(f,s)}function H(e,n,t){if(e.f&I)return;if(e.f&S)return;n===void 0&&console.error("A component has returned or yielded undefined. If this was intentional, return or yield null instead.");let r;try{e.f|=y,r=z(e.renderer,e.root,e.host,e,e.scope,e.ret,Me(n),t)}finally{e.f&=~y}return g(r)?(e.ret.inflightValue=r.then(i=>Pe(e,i)),e.ret.inflightValue):Pe(e,r)}function Pe(e,n){if(e.f&I)return;const t=A.get(e);if(t&&t.length)for(let o=0;o<n.length;o++){const s=n[o];if(K(s))for(let f=0;f<t.length;f++){const a=t[f];s.addEventListener(a.type,a.callback,a.options)}}const r=R(e.ret.cachedChildValues);let i=e.ret.cachedChildValues=B(n);if(e.f&ue)e.f|=ce;else if(!(e.f&M)){if(!De(r,n)){const o=qe(e.parent,e.host);if(o.length)for(let c=0;c<n.length;c++){const k=n[c];if(K(k))for(let p=0;p<o.length;p++){const V=o[p];k.addEventListener(V.type,V.callback,V.options)}}const s=e.host,f=R(s.cachedChildValues);Ze(e,s);const a=X(s);e.renderer.arrange(s.el.tag,s.value,s.el.props,a,s.el.props,f)}fe(e.renderer,e.root,e)}const l=le.get(e);if(l){le.delete(e),e.f|=ue;const o=e.renderer.read(i);for(const s of l)s(o);e.f&=~ue,e.f&ce&&(e.f&=~ce,i=v(e.ret))}return e.f&=~M,i}function Ze(e,n){for(let t=e.parent;t!==void 0&&t.host===n;t=t.parent)t.ret.cachedChildValues=void 0;n.cachedChildValues=void 0}function De(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++){const r=e[t],i=n[t];if(r!==i)return!1}return!0}function se(e,n){if(e.f&G&&!(e.f&C)){if(n!==void 0)throw new Error("Hydration error");const t=e.f&J&&!e.onProps;return Z(e),t?(e.inflightBlock==null&&(e.inflightBlock=new Promise(r=>e.onPropsRequested=r)),e.inflightBlock.then(()=>(e.inflightBlock=void 0,e.inflightValue))):e.inflightValue}else if(e.inflightBlock){if(!e.enqueuedBlock){if(n!==void 0)throw new Error("Hydration error");let t;e.enqueuedBlock=new Promise(r=>t=r),e.enqueuedValue=e.inflightBlock.then(()=>{try{const[r,i]=Se(e);return r&&t(r.finally(()=>Te(e))),i}catch(r){if(!(e.f&M)){if(!e.parent)throw r;return q(e.parent,r)}throw r}})}}else try{const[t,r]=Se(e,n);return t&&(e.inflightBlock=t.then(i=>i).finally(()=>Te(e)),e.inflightValue=r),r}catch(t){if(!(e.f&M)){if(!e.parent)throw t;return q(e.parent,t)}throw t}return e.enqueuedValue}function Te(e){e.f&G&&!(e.f&C)||(e.inflightBlock=e.enqueuedBlock,e.inflightValue=e.enqueuedValue,e.enqueuedBlock=void 0,e.enqueuedValue=void 0)}function Se(e,n){const t=e.ret,r=!e.iterator;if(r){Z(e),e.f|=y,_e(e);let l;try{l=t.el.tag.call(e.owner,t.el.props)}catch(o){throw e.f|=S,o}finally{e.f&=~y}if(Ue(l))e.iterator=l;else if(g(l)){const o=l instanceof Promise?l:Promise.resolve(l),s=o.then(f=>H(e,f,n),f=>{throw e.f|=S,f});return[o.catch(O),s]}else return[void 0,H(e,l,n)]}else if(n!==void 0)throw new Error("Hydration error");let i;if(r){try{e.f|=y,i=e.iterator.next()}catch(l){throw e.f|=S,l}finally{e.f&=~y}g(i)?e.f|=G:e.f|=U}if(e.f&U){if(e.f&=~_,!r)try{e.f|=y,i=e.iterator.next(e.renderer.read(v(t)))}catch(s){throw e.f|=S,s}finally{e.f&=~y}if(g(i))throw new Error("Mixed generator component");i.done&&(e.f&=~U,e.iterator=void 0);let l;try{l=H(e,i.value,n),g(l)&&(l=l.catch(s=>$(e,s)))}catch(s){l=$(e,s)}return[g(l)?l.catch(O):void 0,l]}else if(e.f&C){if(e.f&=~_,!r)try{e.f|=y,i=e.iterator.next(e.renderer.read(v(t)))}catch(s){throw e.f|=S,s}finally{e.f&=~y}if(!g(i))throw new Error("Mixed generator component");const l=i.catch(O),o=i.then(s=>{let f;e.f&C||je(e,Promise.resolve(s),n);try{f=H(e,s.value,n),g(f)&&(f=f.catch(a=>$(e,a)))}catch(a){f=$(e,a)}return f},s=>{throw e.f|=S,s});return[l,o]}else return je(e,i,n),[e.inflightBlock,e.inflightValue]}async function je(e,n,t){let r=!1;try{for(;!r&&!(e.f&C);){let i;e.inflightValue=new Promise(f=>i=f),e.f&M&&e.inflightValue.catch(O);let l;try{l=await n}catch(f){r=!0,e.f|=S,i(Promise.reject(f));break}finally{e.f&=~_,e.f&J||(e.f&=~Y)}r=!!l.done;let o;try{o=H(e,l.value,t),t=void 0,g(o)&&(o=o.catch(f=>$(e,f)))}catch(f){o=$(e,f)}finally{i(o)}let s;if(e.ret.inflightValue?(s=e.ret.inflightValue.then(f=>e.renderer.read(f)),s.catch(f=>{if(!(e.f&M)){if(!e.parent)throw f;return q(e.parent,f)}})):s=e.renderer.read(v(e.ret)),e.f&I)if(e.f&J)try{e.f|=y,n=e.iterator.next(s)}finally{e.f&=~y}else{re(e);break}else if(!r&&!(e.f&C))try{e.f|=y,n=e.iterator.next(s)}finally{e.f&=~y}}}finally{r&&(e.f&=~G,e.iterator=void 0)}}function Z(e){e.onProps?(e.onProps(e.ret.el.props),e.onProps=void 0,e.f&=~Y):e.f|=Y}function te(e){_e(e);const n=oe.get(e);if(n){oe.delete(e);const t=e.renderer.read(v(e.ret));for(const r of n)r(t)}if(e.f|=I,e.iterator)if(e.f&U){let t;e.f&C&&(t=se(e)),g(t)?t.then(()=>{e.f&C?te(e):re(e)},r=>{if(!e.parent)throw r;return q(e.parent,r)}):e.f&C?te(e):re(e)}else e.f&G&&(e.f&C?se(e).then(()=>{e.f&C?te(e):re(e)},r=>{if(!e.parent)throw r;return q(e.parent,r)}):Z(e))}function re(e){if(Z(e),e.iterator&&typeof e.iterator.return=="function")try{e.f|=y;const n=e.iterator.return();g(n)&&n.catch(t=>{if(!e.parent)throw t;return q(e.parent,t)})}finally{e.f&=~y}}const xe=0,en=1,nn=2,tn=3,A=new WeakMap;function Ae(e){return typeof e=="function"||e!==null&&typeof e=="object"&&typeof e.handleEvent=="function"}function Ie(e){return typeof e=="boolean"?{capture:e}:e??{}}function K(e){return e!=null&&typeof e.addEventListener=="function"&&typeof e.removeEventListener=="function"&&typeof e.dispatchEvent=="function"}function T(e,n,t){Object.defineProperty(e,n,{value:t,writable:!1,configurable:!0})}function qe(e,n){let t=[];for(;e!==void 0&&e.host===n;){const r=A.get(e);r&&(t=t.concat(r)),e=e.parent}return t}function _e(e){const n=A.get(e);if(n&&n.length){for(const t of X(e.ret))if(K(t))for(const r of n)t.removeEventListener(r.type,r.callback,r.options);n.length=0}}function $(e,n){if(!e.iterator||typeof e.iterator.throw!="function")throw n;Z(e);let t;try{e.f|=y,t=e.iterator.throw(n)}catch(r){throw e.f|=S,r}finally{e.f&=~y}return g(t)?t.then(r=>(r.done&&(e.f&=~G,e.iterator=void 0),H(e,r.value)),r=>{throw e.f|=S,r}):(t.done&&(e.f&=~U,e.f&=~G,e.iterator=void 0),H(e,t.value))}function q(e,n){let t;try{t=$(e,n)}catch(r){if(!e.parent)throw r;return q(e.parent,r)}return g(t)?t.catch(r=>{if(!e.parent)throw r;return q(e.parent,r)}):t}function He(e,n,t){return F(e,{...n,key:t})}const rn="",d=He,$e=He,he="http://www.w3.org/2000/svg",ln={scope(e,n){switch(n){case b:case"foreignObject":e=void 0;break;case"svg":e=he;break}return e},create(e,n,t){if(typeof e!="string")throw new Error(`Unknown tag: ${e.toString()}`);return e.toLowerCase()==="svg"&&(t=he),t?document.createElementNS(t,e):document.createElement(e)},hydrate(e,n,t){if(typeof e!="string"&&e!==b)throw new Error(`Unknown tag: ${e.toString()}`);if(typeof e=="string"&&e.toUpperCase()!==n.tagName)return;const r=[];for(let i=0;i<n.childNodes.length;i++){const l=n.childNodes[i];l.nodeType===Node.TEXT_NODE?r.push(l.data):l.nodeType===Node.ELEMENT_NODE&&r.push(l)}return{props:t,children:r}},patch(e,n,t,r,i,l){const o=l===he;switch(t){case"style":{const s=n.style;if(s==null)n.setAttribute("style",r);else if(r==null||r===!1)n.removeAttribute("style");else if(r===!0)n.setAttribute("style","");else if(typeof r=="string")s.cssText!==r&&(s.cssText=r);else{typeof i=="string"&&(s.cssText="");for(const f in{...i,...r}){const a=r&&r[f];a==null?s.removeProperty(f):s.getPropertyValue(f)!==a&&s.setProperty(f,a)}}break}case"class":case"className":r===!0?n.setAttribute("class",""):r==null?n.removeAttribute("class"):o?n.getAttribute("class")!==r&&n.setAttribute("class",r):n.className!==r&&(n.className=r);break;case"innerHTML":r!==i&&(n.innerHTML=r);break;default:{if(t in n&&!(typeof r=="string"&&typeof n[t]=="boolean")){let s=n;do if(Object.prototype.hasOwnProperty.call(s,t))break;while(s=Object.getPrototypeOf(s));const f=Object.getOwnPropertyDescriptor(s,t);if(f!=null&&(f.writable===!0||f.set!==void 0)){(n[t]!==r||i===void 0)&&(n[t]=r);return}}if(r===!0)r="";else if(r==null||r===!1){n.removeAttribute(t);return}n.getAttribute(t)!==r&&n.setAttribute(t,r)}}},arrange(e,n,t,r,i,l){if(e===b&&(n==null||typeof n.nodeType!="number"))throw new TypeError(`Portal root is not a node. Received: ${JSON.stringify(n&&n.toString())}`);if(!("innerHTML"in t)&&("children"in t||l&&l.length))if(r.length===0)n.textContent="";else{let o=n.firstChild,s=0;for(;o!==null&&s<r.length;){const f=r[s];if(o===f)o=o.nextSibling,s++;else if(typeof f=="string")o.nodeType===Node.TEXT_NODE?(o.data!==f&&(o.data=f),o=o.nextSibling):n.insertBefore(document.createTextNode(f),o),s++;else if(o.nodeType===Node.TEXT_NODE){const a=o.nextSibling;n.removeChild(o),o=a}else if(n.insertBefore(f,o),s++,o!==r[s]){const a=o.nextSibling;n.removeChild(o),o=a}}for(;o!==null;){const f=o.nextSibling;n.removeChild(o),o=f}for(;s<r.length;s++){const f=r[s];n.appendChild(typeof f=="string"?document.createTextNode(f):f)}}},text(e,n,t){if(t!=null){let r=t.children.shift();typeof r!="string"||!r.startsWith(e)||e.length<r.length&&(r=r.slice(e.length),t.children.unshift(r))}return e},raw(e,n,t){let r;if(typeof e=="string"){const i=n==null?document.createElement("div"):document.createElementNS(n,"svg");i.innerHTML=e,i.childNodes.length===0?r=void 0:i.childNodes.length===1?r=i.childNodes[0]:r=Array.from(i.childNodes)}else r=e;if(t!=null)if(Array.isArray(r))for(let i=0;i<r.length;i++){const l=r[i];typeof l!="string"&&(l.nodeType===Node.ELEMENT_NODE||l.nodeType===Node.TEXT_NODE)&&t.children.shift()}else r!=null&&typeof r!="string"&&(r.nodeType===Node.ELEMENT_NODE||r.nodeType===Node.TEXT_NODE)&&t.children.shift();return r}};class on extends Xe{constructor(){super(ln)}render(n,t,r){return Re(t),super.render(n,t,r)}hydrate(n,t,r){return Re(t),super.hydrate(n,t,r)}}function Re(e){if(e===null||typeof e=="object"&&typeof e.nodeType!="number")throw new TypeError(`Render root is not a node. Received: ${JSON.stringify(e&&e.toString())}`)}const sn=new on;async function*fn(e){for(let n=0;n<e.length;n++)yield{choices:[{delta:{content:e[n]}}]},await new Promise(t=>setTimeout(t,100))}async function an(e){return await new Promise(r=>setTimeout(r,100)),fn(`When you're feeling bored, it can be helpful to engage in a breath that brings energy and focus. Try this breathing exercise:

Sit up straight and close your eyes. Take a deep breath in through your nose, feeling the air fill your lungs and expand your chest. Hold the breath for a moment, and then exhale fully through your mouth, releasing any tension or boredom with the breath.

Now, take a quick inhale through your nose, as if you're sniffing something exciting or interesting. Exhale forcefully throu…w and exhaling out any boredom or monotony.

As you continue this breath, allow your mind to focus on the sensation of each inhale and exhale. Notice how your body feels more awake and your mind becomes more alert. Embrace the energy that flows through you with each breath, and let it spark your creativity and curiosity.

Remember, boredom can often be a sign that you're craving something new or different. Allow this breath to inspire you to seek out new experiences and find joy in the present moment.`)}async function*un({stream:e}){let n="";for await(const t of e)n+=t.choices[0].delta.content,yield d("div",{class:"flex h-screen flex-col p-8",children:d("div",{className:"flex h-full w-full items-start justify-start",children:d("div",{className:"flex h-full w-full flex-col items-start justify-start",children:d("div",{className:"",children:n.split(" ").map(r=>d("span",{class:"enter mx-2",children:r}))})})})})}function*cn(){localStorage.getItem("openai-token")||(setTimeout(()=>{console.log('Token not found. Redirecting to "/token"'),history.pushState({},"","/sophie-breath/token"),window.dispatchEvent(new PopStateEvent("popstate"))},100),yield null);let e;const n=async t=>{t.preventDefault(),document.getElementById("query").value,await this.refresh(),console.log("Sending query"),e=await an(),await this.refresh()};for(;;)yield d("div",{class:"flex h-screen flex-col",children:d("div",{className:"absolute left-0 top-0 flex h-full w-full items-center justify-center",children:d("div",{className:"flex h-full w-full flex-col items-center justify-center",children:$e("form",{onsubmit:n,className:"flex w-full flex-row items-center justify-center",children:[d("input",{id:"query",type:"text",placeholder:"Tell me how you're feeling...",className:"m-2 w-full max-w-screen-md rounded-md border-2 border-gray-500 p-2"}),d("button",{type:"submit",className:"m-2 rounded-md border-2 border-gray-500 p-2",children:"Go"})]})})})}),yield d("div",{children:"Waiting for response..."}),setTimeout(()=>this.refresh(),1e5),yield d(un,{stream:e})}function dn(){const e=localStorage.getItem("openai-token")||"";return d("div",{class:"flex h-screen flex-col",children:d("div",{className:"absolute left-0 top-0 flex h-full w-full items-center justify-center",children:$e("div",{className:"flex h-full w-full flex-col items-center justify-center",children:[d("div",{className:"flex w-full flex-row items-center justify-center",children:d("input",{type:"text",value:e,oninput:r=>{const i=r.target;localStorage.setItem("openai-token",i.value)},placeholder:"OpenAI API Token",className:"m-2 w-full max-w-screen-md rounded-md border-2 border-gray-500 p-2"})}),d("div",{className:"flex flex-row",children:d("button",{onclick:()=>{history.pushState({},"","/sophie-breath/"),window.dispatchEvent(new PopStateEvent("popstate"))},className:"m-2 rounded-md border-2 border-gray-500 p-2",children:"Continue"})})]})})})}const hn={"/":cn,"/token":dn};function*pn(){const e=()=>this.refresh();window.addEventListener("popstate",e);try{for(;;){const n="/sophie-breath",t=window.location.pathname.substring(n.length)||"/";console.log("Rendering: ",t);const r=hn[t];yield d("div",{class:"flex h-screen flex-col",children:d(r,{x:Math.random()})})}}finally{console.log("unmount"),window.removeEventListener("popstate",e)}}const yn=()=>d(rn,{children:d(pn,{})});(async()=>await sn.render(d("div",{id:"root",children:d(yn,{})}),document.body))();
